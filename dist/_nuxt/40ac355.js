(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{507:function(t,e,r){var content=r(547);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(36).default)("20abbd4c",content,!0,{sourceMap:!1})},546:function(t,e,r){"use strict";r(507)},547:function(t,e,r){var n=r(35)(!1);n.push([t.i,".board[data-v-a73910a8]{padding:12px;height:100vh;overflow:scroll}.board .list[data-v-a73910a8]{min-width:250px;padding:25px;border-radius:12px;min-height:70vh}.board .create_list[data-v-a73910a8],.board .list[data-v-a73910a8]{background-color:hsla(0,0%,89.4%,.35)}.board a[data-v-a73910a8]{text-decoration:none}.board .menu-items a[data-v-a73910a8]{color:#2e2e2e;padding:10px 0 10px 3px;font-size:24px}.board .jello-topbar[data-v-a73910a8]{background-color:hsla(0,0%,100%,0);padding:0!important}",""]),t.exports=n},578:function(t,e,r){"use strict";r.r(e);r(59),r(7),r(43),r(76),r(32),r(25),r(21),r(77),r(83),r(33);var n=r(11),o=(r(390),r(48),r(583));function d(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,d=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return d=t.done,t},e:function(t){l=!0,o=t},f:function(){try{d||null==r.return||r.return()}finally{if(l)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var l={layout:"board",data:function(){return{listId:"",list:{title:""},card:{title:""},currentCard:{},cardDraggedId:"",cardDraggedListId:"",dialog:!1,dialogCard:!1,dialogEditCard:!1,drawer:!1}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,n=$nuxt.$fire.firestore.collection("users").doc($nuxt.$fire.auth.currentUser.uid).collection("boards").doc(r.id),o={},e.next=5,n.get().then((function(t){t.exists&&((o=t.data()).id=r.id)})).catch((function(t){}));case 5:return e.abrupt("return",{board:o});case 6:case"end":return e.stop()}}),e)})))()},created:function(){var t=this,e=this.board.id;$nuxt.$fire.firestore.collection("users").doc($nuxt.$fire.auth.currentUser.uid).collection("boards").doc(e).onSnapshot((function(r){r.exist&&(t.board=r.data(),t.board.id=e)}))},methods:{createList:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t).dialog=!1,""==r.list.title){e.next=10;break}return r.list.id=Object(o.a)(),r.list.cards=[],r.list.dateCreated=Date.now(),r.board.lists||(r.board.lists=[]),r.board.lists.push(r.list),e.next=9,r.updateBoard();case 9:r.list={};case 10:case"end":return e.stop()}}),e)})))()},updateCardList:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,v,f,x,m,C,h,_;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=-1,c=-1,l=-1,v=0,f=0,x=d((n=e).board.lists);try{for(x.s();!(m=x.n()).done;){if((C=m.value).id===t&&(l=v),n.currentCard.listId===C.id){o=v,h=d(C.cards);try{for(h.s();!(_=h.n()).done;)_.value.id===n.currentCard.id&&(c=f),f++}catch(t){h.e(t)}finally{h.f()}}v++}}catch(t){x.e(t)}finally{x.f()}return n.board.lists[o].cards.splice(c,1),n.currentCard.listId=t,n.board.lists[l].cards.push(n.currentCard),r.next=13,n.updateBoard();case 13:case"end":return r.stop()}}),r)})))()},allowDrop:function(t){t.preventDefault()},drag:function(t,e){this.currentCard=e},drop:function(t,e){t.preventDefault(),this.updateCardList(e)},deleteList:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,v;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=-1,c=0,l=d((n=e).board.lists);try{for(l.s();!(v=l.n()).done;)v.value.id==t&&(o=c),c++}catch(t){l.e(t)}finally{l.f()}if(!(o>-1)){r.next=9;break}return n.board.lists.splice(o,1),r.next=9,n.updateBoard();case 9:case"end":return r.stop()}}),r)})))()},createCard:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,l,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t).dialogCard=!1,""==r.card.title){e.next=11;break}if(r.card.id=Object(o.a)(),r.card.dateCreated=Date.now(),r.card.listId=r.listId,r.board.lists){n=-1,c=0,l=d(r.board.lists);try{for(l.s();!(v=l.n()).done;)v.value.id===r.listId&&(n=c),c++}catch(t){l.e(t)}finally{l.f()}-1!=n&&(r.board.lists[n].cards||(r.board.lists[n].cards=[]),r.board.lists[n].cards.push(r.card))}return e.next=9,r.updateBoard();case 9:r.card={},r.listId="";case 11:case"end":return e.stop()}}),e)})))()},editCard:function(t){this.dialogEditCard=!0,this.currentCard=t},updateCard:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t).dialogEditCard=!1,n=d(r.board.lists);try{for(n.s();!(o=n.n()).done;)if(c=o.value,r.currentCard.listId===c.id){l=d(c.cards);try{for(l.s();!(v=l.n()).done;)v.value.id===r.currentCard.id&&r.currentCard}catch(t){l.e(t)}finally{l.f()}}}catch(t){n.e(t)}finally{n.f()}return e.next=6,r.updateBoard();case 6:case"end":return e.stop()}}),e)})))()},deleteCard:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,i,n,o,c,l,v,f,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t).dialogEditCard=!1,i=0,n=0,o={list:-1,card:-1},c=d(r.board.lists);try{for(c.s();!(l=c.n()).done;){if(v=l.value,r.currentCard.listId===v.id){f=d(v.cards);try{for(f.s();!(x=f.n()).done;)x.value.id===r.currentCard.id&&(o.list=i,o.card=n),n++}catch(t){f.e(t)}finally{f.f()}}i++}}catch(t){c.e(t)}finally{c.f()}if(!(o.list>-1)){e.next=11;break}return r.board.lists[o.list].cards.splice(o.card,1),e.next=11,r.updateBoard();case 11:case"end":return e.stop()}}),e)})))()},deleteBoard:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.prev=1,e.next=4,r.$fire.firestore.collection("users").doc(r.$fire.auth.currentUser.uid).collection("boards").doc(r.board.id).delete().then((function(){$nuxt.$router.push("/")}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),$nuxt.$router.push("/");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},updateBoard:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,r.$fire.firestore.collection("users").doc(r.$fire.auth.currentUser.uid).collection("boards").doc(r.board.id).update(r.board,{merge:!0});case 3:case"end":return e.stop()}}),e)})))()}}},v=(r(546),r(53)),f=r(72),x=r.n(f),m=r(513),C=r(505),h=r(484),_=r(480),w=r(483),k=r(576),y=r(473),j=r(482),$=r(481),R=(r(392),r(3)),I=Object(R.i)("spacer","div","v-spacer"),O=r(584),component=Object(v.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex flex-column board",style:""!=t.board.image.downloadURL?"background:url("+t.board.image.downloadURL+");background-size:cover;":t.board.color?"background-color:"+t.board.color:""},[r("div",{staticClass:"d-block"},[r("v-container",{staticClass:"jello-topbar",attrs:{fluid:""}},[r("div",{staticClass:"d-flex justify-space-between"},[r("v-icon",{on:{click:function(e){t.drawer=!0}}},[t._v("mdi-menu")]),t._v(" "),r("nuxt-link",{attrs:{to:"/"}},[r("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},[r("h3",{staticClass:"logo"},[t._v("Jello")])])],1),t._v(" "),r("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteBoard()}}},[t._v("mdi-delete-outline")])],1)]),t._v(" "),r("v-navigation-drawer",{staticClass:"d-block px-3 py-3",attrs:{fixed:"",left:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-container",{staticClass:"jello-topbar",attrs:{fluid:""}},[r("v-row",{attrs:{"no-gutters":"",align:"center",justify:"space-between"}},[r("v-icon",{on:{click:function(e){t.drawer=!1}}},[t._v("mdi-close")]),t._v(" "),r("v-row",{attrs:{"no-gutters":"",align:"center",justify:"end"}},[r("p",{staticClass:"jello-user"},[t._v("Signed in as "),r("br"),t._v("\n              "+t._s(t.$nuxt.$fire.auth.currentUser.email)+"\n            ")]),t._v(" \n            "),r("v-icon",[t._v("mdi-account-circle-outline")])],1)],1)],1),t._v(" "),r("v-container",{staticClass:"d-block menu-items"},[r("div",{staticClass:"d-flex flex-column"},[r("div",{staticClass:"d-flex"},[r("br")]),t._v(" "),r("div",{staticClass:"d-flex"},[r("nuxt-link",{attrs:{to:"/"}},[r("v-icon",[t._v("mdi-view-dashboard-variant-outline")]),t._v("  "),r("b",[t._v("My Boards")])],1)],1),t._v(" "),r("div",{staticClass:"d-flex"},[r("nuxt-link",{attrs:{to:"/auth/signout"}},[r("v-icon",[t._v("mdi-exit-to-app")]),t._v("  "),r("b",[t._v("Sign out")])],1)],1)])])],1)],1),t._v(" "),r("h1",[t._v(t._s(t.board.title))]),t._v(" "),r("small",[t._v("created "+t._s(t._f("formatDate")(t.board.dateCreated)))]),t._v(" "),r("div",{staticClass:"d-flex flex-row pr-6 pt-3"},[t._l(t.board.lists,(function(e){return r("div",{key:e.id,staticClass:"d-flex flex-column pt-3 mr-6 list",on:{drop:function(r){return t.drop(r,e.id)},dragover:function(e){return t.allowDrop(e)}}},[r("div",{staticClass:"d-flex flex-row justify-space-between"},[r("h4",[t._v(t._s(e.title))]),t._v(" "),r("v-icon",{attrs:{small:""},on:{click:function(r){return t.deleteList(e.id)}}},[t._v("mdi-delete-outline")])],1),t._v(" "),t._l(e.cards,(function(e){return r("v-card",{key:e.id,staticClass:"mt-5",attrs:{draggable:!0},on:{dragover:function(t){t.preventDefault()},dragstart:function(r){return t.drag(r,e)},click:function(r){return t.editCard(e)}}},[r("v-card-text",[t._v(t._s(e.title))])],1)})),t._v(" "),r("v-btn",{staticClass:"mt-auto",attrs:{depressed:""},on:{click:function(r){t.dialogCard=!0,t.listId=e.id}}},[t._v("Add Card")])],2)})),t._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialogCard,callback:function(e){t.dialogCard=e},expression:"dialogCard"}},[r("v-card",{attrs:{elevation:"0"}},[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("Card Name")])]),t._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Stuff to do",required:""},model:{value:t.card.title,callback:function(e){t.$set(t.card,"title",e)},expression:"card.title"}})],1)],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogCard=!1}}},[t._v("Close")]),t._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.createCard()}}},[t._v("Save")])],1)],1)],1),t._v(" "),r("div",{staticClass:"d-flex flex-row"},[r("v-btn",{staticClass:"create-list",attrs:{depressed:""},on:{click:function(e){t.dialog=!0}}},[t._v("Create new list")]),t._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{elevation:"0"}},[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("List name")])]),t._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Stuff to do",required:""},model:{value:t.list.title,callback:function(e){t.$set(t.list,"title",e)},expression:"list.title"}})],1)],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.createList}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialogEditCard,callback:function(e){t.dialogEditCard=e},expression:"dialogEditCard"}},[r("v-card-title",[r("span",{staticClass:"headline"},[t._v(t._s(t.currentCard.title))])]),t._v(" "),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Edit Title",required:""},model:{value:t.currentCard.title,callback:function(e){t.$set(t.currentCard,"title",e)},expression:"currentCard.title"}})],1)],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.deleteCard()}}},[t._v("Delete")]),t._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialogEditCard=!1}}},[t._v("Close")]),t._v(" "),r("v-btn",{attrs:{color:"blue darken=1",text:""},on:{click:t.updateCard}},[t._v("Save")])],1)],1)],2)])}),[],!1,null,"a73910a8",null);e.default=component.exports;x()(component,{VBtn:m.a,VCard:C.a,VCardActions:h.a,VCardText:h.c,VCardTitle:h.d,VCol:_.a,VContainer:w.a,VDialog:k.a,VIcon:y.a,VNavigationDrawer:j.a,VRow:$.a,VSpacer:I,VTextField:O.a})}}]);